<div class="record">
  <h1>Record Your Data</h1>
  <p>Keep track of your health data to generate meaningful insights.</p>

  <form class="record__form" id="recordForm" method="POST" action="/add_record" onsubmit="return prepareExerciseData()">
    <!-- Date -->
    <div class="record__group">
      <label for="date">Date</label>
      <input type="date" id="date" name="date" required />
    </div>

    <!-- Weight -->
    <div class="record__group">
      <label for="weight">Today's Weight (kg)</label>
      <input type="number" id="weight" name="weight" step="0.01" placeholder="e.g. 68.50" required />
    </div>

    <!-- Diet -->
    <div class="record__group">
      <label class="tooltip-container">
        Meals
        <i class="fa-solid fa-circle-info tooltip-icon"></i>
        <span class="custom-tooltip">
          If you skipped a meal,<br>
          type "NO". <br><br>
          Leaving it blank will <br>
          auto-fill a default value.
        </span>
      </label>
      <input type="text" name="breakfast" placeholder="Breakfast: e.g. oats and egg" />
      <input type="text" name="lunch" placeholder="Lunch: e.g. rice and fish" />
      <input type="text" name="dinner" placeholder="Dinner: e.g. noodles and soup" />
    </div>

    <!-- Exercise -->
    <div class="record__group">
      <label class="tooltip-container">
        Exercise Activities
        <i class="fa-solid fa-circle-info tooltip-icon"></i>
        <span class="custom-tooltip">
          • Light: slow pace, frequent rests<br>
          • Moderate: steady effort, some breaks<br>
          • Intense: high pace, sustained effort, minimal rest
        </span>
        
      </label>

      <div id="exerciseContainer">
        <div class="exercise__entry">
          <input type="text" name="exercise[]" placeholder="e.g. running" />
          <input type="number" name="duration[]" placeholder="Duration (min)" min="1" />
          <select name="intensity[]">
            <option value="">Intensity</option>
            <option value="light">Light</option>
            <option value="moderate">Moderate</option>
            <option value="intense">Intense</option>
          </select>
          <button type="button" class="remove-entry-btn" onclick="removeThisRow(this)">−</button>
        </div>        
      </div>
      <button type="button" class="add-exercise-btn" onclick="addExerciseRow()">+ Add</button>

      <!-- Hidden field to store combined exercise string -->
      <input type="hidden" id="exerciseCombined" name="exercise" />
    </div>

    <div class="record__button-row">
      <button type="submit" class="record__btn">Submit Record</button>
      <button type="button" id="view-history" class="record__btn">View History</button>
    </div>
      

  </form>
</div>

